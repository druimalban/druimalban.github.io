<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Demo port of Haskell recursion-schemes to R">
<title>Generalised Folds and Unfolds for R • recursr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Generalised Folds and Unfolds for R">
<meta property="og:description" content="Demo port of Haskell recursion-schemes to R">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">recursr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/fixed-point-programming.html">Programming with fixed-points</a>
    <a class="dropdown-item" href="articles/list-morphisms.html">Morphisms for a list</a>
    <a class="dropdown-item" href="articles/tree-morphisms.html">Morphisms for a tree</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="generalised-folds-and-unfolds-for-r">Generalised folds and unfolds for R<a class="anchor" aria-label="anchor" href="#generalised-folds-and-unfolds-for-r"></a>
</h1></div>
<div class="section level2">
<h2 id="preface">Preface<a class="anchor" aria-label="anchor" href="#preface"></a>
</h2>
<p>This is an experiment in porting the Haskell recursion-schemes package to R.</p>
<p>These are generalised fold and unfolding functions, which can be applied to a large number of data structures.</p>
<p>This package includes just enough of the Haskell language infrastructure to make it possible to use the following recursion schemes:</p>
<ul>
<li>The catamorphism and its categorical dual the anamorphism</li>
<li>The paramorphism and its categorical dual the apomorphism</li>
<li>The histomorphism and its categorical dual the futumorphism</li>
</ul>
<p>Refolds like the hylomorphism are not implemented, but it should be possible to implement them using these building blocks.</p>
</div>
<div class="section level2">
<h2 id="recursion-schemes">Recursion schemes<a class="anchor" aria-label="anchor" href="#recursion-schemes"></a>
</h2>
<p>This package does not explain what the different recursion schemes actually are. The initial explorations of catamorphisms and anamorphisms was largely inspired by the following series of blog-posts: <a href="https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/" class="external-link uri">https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/</a> (Seemann’s book <em>Code that Fits in Your Head</em> also happens to be very good.)</p>
<p>Other resources which are fairly accessible include the following:</p>
<ul>
<li>
<a href="https://jtobin.io/practical-recursion-schemes" class="external-link uri">https://jtobin.io/practical-recursion-schemes</a> (this is a series)</li>
<li>
<a href="https://blog.sumtypeofway.com/posts/introduction-to-recursion-schemes.html" class="external-link uri">https://blog.sumtypeofway.com/posts/introduction-to-recursion-schemes.html</a> (this is a series)</li>
<li><a href="https://fho.f12n.de/posts/2014-05-07-dont-fear-the-cat.html" class="external-link uri">https://fho.f12n.de/posts/2014-05-07-dont-fear-the-cat.html</a></li>
<li><a href="https://arxiv.org/pdf/2202.13633.pdf" class="external-link uri">https://arxiv.org/pdf/2202.13633.pdf</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="additional-features-implemented">Additional features implemented<a class="anchor" aria-label="anchor" href="#additional-features-implemented"></a>
</h2>
<p>Futu and histo depend on the free monad and the cofree comonad, and para and apo depend on the either monad and tuples. As such, the following language features are also implemented:</p>
<ul>
<li>S3 methods for functors (flat-map a.k.a. <code><a href="reference/fmap.html">fmap()</a></code>)</li>
<li>S3 methods for monads (bind a.k.a. <code>&gt;&gt;=</code>, discard a.k.a. <code>&gt;&gt;</code>, and <code><a href="reference/join.html">join()</a></code>)</li>
<li>S3 methods for comonads (<code><a href="reference/extract.html">extract()</a></code>, <code><a href="reference/extend.html">extend()</a></code>, and <code><a href="reference/duplicate.html">duplicate()</a></code>)</li>
<li>Infix pipes which work like the Haskell infix operators, surrounded by percentage signs similar to magrittr pipes</li>
</ul>
<p>Thus enabling the following:</p>
<ul>
<li>The free monad and the cofree comonad</li>
<li>A flat-map and a bind implementation for a list</li>
<li>“Base” functor for a list, which represents the list functor at a given point in recursion</li>
<li>The Either monad, as well as Tuple, with a flat-map implementation for both and a bind implementation for Either. Not all tuples are monads.</li>
</ul>
<p>Note that Haskell has another typeclass, which bears mentioning, Applicative. In fact, all monads are applicative functors. However, some Applicative instances are pretty unintuitive, and there is invariably more than one possible Applicative instance, so I’ve not implemented Applicative for any of the types in this package.</p>
</div>
<div class="section level2">
<h2 id="the-r-type-system-or-lack-thereof">The R type system (or lack thereof)<a class="anchor" aria-label="anchor" href="#the-r-type-system-or-lack-thereof"></a>
</h2>
<p>R is not strongly-typed—it will freely coerce values—but the S3 class system does at least enable writing functions which are specific to a given functor/monad, e.g. the bind implementation for Either only applies to Either values.</p>
</div>
<div class="section level2">
<h2 id="vignettes-and-package-license">Vignettes and package license<a class="anchor" aria-label="anchor" href="#vignettes-and-package-license"></a>
</h2>
<p>The first package vignette is a tutorial on making use of the various morphisms with the familiar list type. This is primarily a demonstration of each function rather than an explanation of how to implement a “base” functor for a given type.</p>
<p>The second package vignette explores implementation of flat-map for the <code>data.tree</code> package’s <code>Node</code> type, implementation of a “base” functor for this type. Because of that package’s unpredictable behaviour, the vignette then explores implementation of a basic <code>Tree</code> type. Finally, it explores implementation of a monad instance for the basic <code>Tree</code> type, and testing it against the monad laws.</p>
<p>The third package vignette explores using fixed-points instead of <code><a href="reference/project.html">project()</a></code>/<code><a href="reference/embed.html">embed()</a></code>, and demonstrates this using Peano numbers. When I was building/testing the library, I used fixed-points instead of the <code><a href="reference/project.html">project()</a></code>/<code><a href="reference/embed.html">embed()</a></code> functions, but I later replaced that code with those functions, and also adapted the “base” functor of a list to demonstrate the package, so this library is to an extent adapted from the Haskell <code>recursion-schemes</code> package. I’ve thus applied the same license as that package (BSD 2-Clause) with a note of attribution.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>`packager::use_bsd2clause_license`</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing recursr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>D Guthrie <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by D Guthrie.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
